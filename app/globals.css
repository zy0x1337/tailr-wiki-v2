/* ===== TAILR.WIKI - SCIENTIFIC DESIGN SYSTEM ===== */
/* Enhanced globals.css mit @apply für Tailwind Integration */
/* Performance-optimiert für 60fps Scientific Trust Building */

@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* ===== BASE LAYER - SCIENTIFIC FOUNDATION ===== */
@layer base {

/* ✅ SYNCHRONIZED Color Variables - TAILWIND THEME INTEGRATED */
:root {
  /* Synchronized with tailwind.config.js Scientific Trust Colors */
  --trust-glow: 0 4px 20px rgb(59 130 246 / 0.15); /* trust-tech.500 */
  --expertise-glow: 0 4px 20px rgb(168 85 247 / 0.15); /* trust-security.500 */
  --nature-glow: 0 4px 20px rgb(34 197 94 / 0.15); /* trust-value.500 */
  
  /* Glass & Effects - Optimized */
  --glass-blur: blur(12px);
  --authority-gradient: linear-gradient(135deg, rgb(59 130 246 / 0.08) 0%, rgb(59 130 246 / 0.03) 100%);
}

/* Body Optimizations */
html {
  @apply scroll-smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  @apply transition-colors duration-300;
  font-feature-settings: 'liga' 1, 'kern' 1;
  text-rendering: optimizeLegibility;
}

/* Enhanced Focus States für Accessibility */
*:focus {
  @apply outline-none ring-2 ring-blue-500/50 ring-offset-2;
}

/* Scientific Typography Enhancements */
h1, h2, h3, h4, h5, h6 {
  @apply font-semibold tracking-tight;
  line-height: 1.2;
}

/* Link Styling für Scientific Credibility */
a {
  @apply transition-all duration-200;
}

a:hover {
  @apply text-blue-600 dark:text-blue-400;
}

}

/* ===== COMPONENTS LAYER - SCIENTIFIC TRUST SYSTEM ===== */
@layer components {

/* ===== ENHANCED TRUST INDICATORS ===== */
.trust-indicator-enhanced {
  @apply relative overflow-hidden;
  @apply bg-gradient-to-br from-white/10 to-white/5;
  @apply border border-blue-200/30 dark:border-blue-700/50;
  @apply backdrop-blur-xl;
  @apply transition-all duration-500 ease-out;
  @apply rounded-xl;
  /* Hardware-accelerated Performance */
  transform: translateZ(0);
  will-change: transform, box-shadow;
}

.trust-indicator-enhanced:hover {
  @apply border-blue-400/50 dark:border-blue-500/60;
  @apply -translate-y-1;
  box-shadow: var(--trust-glow), 0 8px 25px rgb(59 130 246 / 0.12);
}

.trust-indicator-enhanced:active {
  @apply translate-y-0 scale-95;
  transition-duration: 150ms;
}

/* ===== SCIENTIFIC AUTHORITY BADGES ===== */
.authority-badge {
  @apply inline-flex items-center gap-2;
  @apply px-3 py-1.5 rounded-full;
  @apply text-xs font-semibold text-white;
  @apply transition-all duration-300;
  background: linear-gradient(135deg,
    rgb(59 130 246 / 0.95) 0%,
    rgb(59 130 246 / 0.9) 100%
  );
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  box-shadow: 0 2px 12px rgb(59 130 246 / 0.4);
}

.authority-badge:hover {
  @apply scale-105;
  box-shadow: 0 4px 20px rgb(59 130 246 / 0.4);
}

/* Authority Badge Variants */
.authority-badge--verified {
  @apply bg-gradient-to-r from-emerald-500 to-emerald-600;
  box-shadow: 0 2px 12px rgb(34 197 94 / 0.4);
}

.authority-badge--expert {
  @apply bg-gradient-to-r from-violet-500 to-violet-600;
  box-shadow: 0 2px 12px rgb(168 85 247 / 0.4);
}

.authority-badge--trusted {
  @apply bg-gradient-to-r from-blue-500 to-blue-600;
}

.authority-badge--premium {
  @apply bg-gradient-to-r from-violet-500 to-violet-600;
  box-shadow: 0 2px 12px rgb(139 92 246 / 0.4);
}

.authority-badge--research {
  @apply bg-gradient-to-r from-indigo-500 to-indigo-600;
  box-shadow: 0 2px 12px rgb(99 102 241 / 0.4);
}

/* ===== ENHANCED CATEGORY CARD SYSTEM ===== */
.category-card-scientific {
  @apply relative;
  @apply bg-gradient-to-br from-white to-slate-50/80;
  @apply dark:bg-gradient-to-br dark:from-slate-900 dark:to-slate-800/80;
  @apply border-2 border-transparent;
  @apply rounded-xl;
  @apply transition-all duration-500 ease-out;
  @apply overflow-hidden;
  background-clip: padding-box;
  transform: translateZ(0);
  will-change: transform, box-shadow;
}

/* Scientific Border Gradient Animation */
.category-card-scientific::before {
  content: '';
  @apply absolute inset-0 rounded-xl opacity-0;
  @apply transition-opacity duration-500;
  @apply pointer-events-none;
  padding: 2px;
  background: linear-gradient(135deg,
    rgb(59 130 246 / 0.3) 0%,
    rgb(168 85 247 / 0.2) 30%,
    rgb(34 197 94 / 0.25) 70%,
    rgb(59 130 246 / 0.3) 100%
  );
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  -webkit-mask-composite: xor;
}

.category-card-scientific:hover::before {
  @apply opacity-100;
}

.category-card-scientific:hover {
  @apply -translate-y-2;
  box-shadow: var(--trust-glow), 0 8px 30px rgb(59 130 246 / 0.25);
}

/* Enhanced Image Container */
.category-image-container {
  @apply relative overflow-hidden;
  @apply rounded-lg;
  @apply transition-transform duration-300;
  aspect-ratio: 1;
}

.category-image-container img {
  @apply w-full h-full object-cover;
  @apply transition-transform duration-500;
  transform-origin: center center;
}

/* Group hover effect for image scaling */
.category-card-scientific.group:hover .category-image-container img {
  @apply scale-110;
}

/* Category Image Sizes - Responsive */
.category-image--sm { @apply w-20 h-20; }
.category-image--md { @apply w-28 h-28; }
.category-image--lg { @apply w-32 h-32; }
.category-image--xl { @apply w-36 h-36; }
.category-image--2xl { @apply w-40 h-40; }

/* ===== ✅ OPTIMIZED SHINE EFFECTS ===== */
.credibility-shine {
  @apply relative overflow-hidden;
}

.credibility-shine::after {
  content: '';
  @apply absolute top-0 -left-full w-full h-full;
  @apply pointer-events-none;
  background: linear-gradient(90deg, transparent, rgb(59 130 246 / 0.15), transparent);
  transform: translateZ(0);
  animation: shine 4s ease-in-out infinite;
}

.credibility-shine:hover::after {
  animation: shine 1.5s ease-out;
}

/* ===== GLASSMORPHISM SYSTEM ===== */
.glass-card {
  @apply bg-white/10 dark:bg-black/10;
  @apply border border-white/20 dark:border-white/10;
  @apply backdrop-blur-xl;
  @apply rounded-xl;
  box-shadow: 0 8px 25px rgb(59 130 246 / 0.12);
}

.glass-card--subtle {
  @apply bg-white/5 dark:bg-black/5;
  @apply backdrop-blur-sm;
  @apply shadow-lg;
}

.glass-card--strong {
  @apply backdrop-blur-2xl;
  @apply shadow-2xl;
}

.glass-nav {
  @apply bg-white/80 dark:bg-slate-900/90;
  @apply backdrop-blur-xl;
  @apply border-b border-slate-200/50 dark:border-slate-700/20;
  @apply sticky top-0 z-50;
}

/* ===== SCIENTIFIC FEATURE CARDS ===== */
.feature-card {
  @apply bg-gradient-to-br from-white to-slate-50;
  @apply dark:bg-gradient-to-br dark:from-slate-900 dark:to-slate-800;
  @apply border border-slate-200/60 dark:border-slate-700/20;
  @apply rounded-xl p-6;
  @apply transition-all duration-300;
  @apply hover:shadow-lg hover:-translate-y-1;
}

.feature-card--trust {
  @apply hover:border-blue-300/50;
  box-shadow: 0 4px 20px rgb(59 130 246 / 0.15);
}

.feature-card--expertise {
  @apply hover:border-violet-300/50;
  box-shadow: 0 4px 20px rgb(168 85 247 / 0.15);
}

.feature-card--nature {
  @apply hover:border-emerald-300/50;
  box-shadow: 0 4px 20px rgb(34 197 94 / 0.15);
}

/* ===== ENHANCED BUTTON SYSTEM ===== */
.btn-scientific {
  @apply relative overflow-hidden;
  @apply bg-gradient-to-r from-blue-500 to-blue-600;
  @apply hover:from-blue-600 hover:to-blue-700;
  @apply text-white font-semibold;
  @apply px-6 py-3 rounded-lg;
  @apply transition-all duration-300;
  @apply hover:-translate-y-0.5;
  transform: translateZ(0);
  box-shadow: var(--trust-glow);
}

.btn-scientific:hover {
  box-shadow: 0 8px 30px rgb(59 130 246 / 0.25);
}

.btn-scientific::before {
  content: '';
  @apply absolute inset-0 opacity-0;
  @apply transition-opacity duration-300;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transform: translateX(-100%);
}

.btn-scientific:hover::before {
  @apply opacity-100;
  animation: shine 0.6s ease-out;
}

/* Button Variants */
.btn-scientific--expertise {
  @apply bg-gradient-to-r from-violet-500 to-violet-600;
  @apply hover:from-violet-600 hover:to-violet-700;
  box-shadow: var(--expertise-glow);
}

.btn-scientific--nature {
  @apply bg-gradient-to-r from-emerald-500 to-emerald-600;
  @apply hover:from-emerald-600 hover:to-emerald-700;
  box-shadow: var(--nature-glow);
}

/* ===== SCIENTIFIC TYPOGRAPHY ===== */
.text-scientific {
  @apply text-slate-700 dark:text-slate-300;
  @apply font-medium leading-relaxed;
  @apply tracking-tight;
}

.text-scientific--heading {
  @apply text-slate-900 dark:text-slate-100;
  @apply font-bold tracking-tight;
}

.text-scientific--muted {
  @apply text-slate-600 dark:text-slate-400;
  @apply text-sm;
}

}

/* ===== UTILITIES LAYER - SCIENTIFIC HELPERS ===== */
@layer utilities {

/* Scientific Spacing Utilities */
.space-scientific > * + * {
  @apply mt-6;
}

/* Glass Effect Utilities */
.glass-effect {
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
}

/* Performance Optimizations */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: transform;
}

/* Scientific Grid System */
.grid-scientific {
  @apply grid gap-6;
  @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
}

.grid-categories {
  @apply grid gap-4 sm:gap-6;
  @apply grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6;
}

/* Scientific Container */
.container-scientific {
  @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

/* Trust Building Animations */
.animate-trust-entrance {
  animation: fadeInUp 0.6s ease-out 0.1s both;
}

.animate-trust-entrance--delayed {
  animation-delay: 0.3s;
}

.animate-trust-entrance--more-delayed {
  animation-delay: 0.5s;
}

/* Text Balance Utility */
.text-balance {
  text-wrap: balance;
}

/* ===== TYPEWRITER UTILITIES ===== */
.sync-typewriter-loop {
  overflow: hidden;
  white-space: nowrap;
  border-right: 2px solid currentColor;
  display: inline-block;
  width: 0;
}

.sync-typewriter-1 {
  animation: 
    typewriter-loop 8s ease-in-out infinite 0s,
    blink-cursor 1s ease-in-out infinite 0s;
}

.sync-typewriter-2 {
  animation: 
    typewriter-loop 8s ease-in-out infinite 2.6s,
    blink-cursor 1s ease-in-out infinite 2.6s;
}

.sync-typewriter-3 {
  animation: 
    typewriter-loop 8s ease-in-out infinite 5.2s,
    blink-cursor 1s ease-in-out infinite 5.2s;
}

}

/* ===== ✅ FUNKTIONSFÄHIGE KEYFRAMES ===== */
@keyframes fadeInUp {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ✅ TYPEWRITER KEYFRAMES - LOOP ANIMATION */
@keyframes typewriter-loop {
  0%, 10% { 
    width: 0; 
    opacity: 1;
  }
  40%, 60% { 
    width: 100%; 
    opacity: 1;
  }
  90%, 100% { 
    width: 0; 
    opacity: 1;
  }
}

@keyframes blink-cursor {
  0%, 49% { border-color: currentColor; }
  50%, 100% { border-color: transparent; }
}

/* ✅ SHINE KEYFRAMES */
@keyframes shine {
  0% {
    transform: translateX(-100%) skewX(-15deg);
    opacity: 0;
  }
  50% {
    transform: translateX(0%) skewX(-15deg);
    opacity: 1;
  }
  100% {
    transform: translateX(100%) skewX(-15deg);
    opacity: 0;
  }
}

/* ===== DARK MODE ENHANCEMENTS ===== */
@media (prefers-color-scheme: dark) {
  .trust-indicator-enhanced {
    @apply bg-gradient-to-br from-slate-800/50 to-slate-900/30;
    @apply border-blue-600/30;
  }

  .trust-indicator-enhanced:hover {
    @apply border-blue-500/50;
    box-shadow: var(--trust-glow), 0 8px 30px rgb(56 189 248 / 0.2);
  }

  .authority-badge {
    box-shadow: 0 2px 16px rgb(56 189 248 / 0.4);
  }

  .glass-card {
    @apply bg-slate-800/10 border-white/5;
  }
}

/* ===== REDUCED MOTION SUPPORT ===== */
@media (prefers-reduced-motion: reduce) {
  .credibility-shine::after {
    @apply hidden;
  }

  .trust-indicator-enhanced,
  .category-card-scientific,
  .btn-scientific {
    @apply transition-none;
  }

  .authority-badge {
    @apply animate-none;
  }

  .animate-trust-entrance,
  .animate-trust-entrance--delayed,
  .animate-trust-entrance--more-delayed {
    animation: none;
  }

  .sync-typewriter-1,
  .sync-typewriter-2,
  .sync-typewriter-3 {
    animation: none !important;
    width: 100% !important;
    border-right: none !important;
  }
}

/* ===== PRINT STYLES ===== */
@media print {
  .trust-indicator-enhanced,
  .category-card-scientific {
    @apply shadow-none border border-slate-300;
    @apply bg-white;
  }

  .authority-badge {
    @apply bg-slate-200 text-slate-900;
    @apply shadow-none;
  }
}

/* ===== HIGH CONTRAST MODE ===== */
@media (prefers-contrast: high) {
  .trust-indicator-enhanced {
    @apply border-2 border-blue-600;
  }

  .authority-badge {
    @apply border border-current;
  }

  .category-card-scientific {
    @apply border-2 border-slate-600;
  }
}

/* Für alle Headings mit IDs - Offset für Sticky Header */
h1[id], h2[id], h3[id], h4[id], h5[id], h6[id] {
  scroll-margin-top: 120px; /* Höhe des Headers + Padding */
  scroll-padding-top: 120px;
}

/* Spezifischer Offset für dein Blog-System */
#heading-33,
[id^="heading-"],
[id*="kritische"],
[id*="anatomie"] {
  scroll-margin-top: 120px;
}
